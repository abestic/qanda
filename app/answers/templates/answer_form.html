{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}
<div class="card mt-4">
  <div class="card-header">
    <span class="fas fa-comment-dots"></span> <strong>Your Answer</strong>
  </div>
  <div class="card-body">
    <form action="{{ backroute }}" method="{{ verb }}" novalidate>
      {{ form.hidden_tag() }}
      
      {{ wtf.form_field(form.question_id) }}
      {% for error in form.question_id.errors %}
      <div class="alert alert-danger" role="alert">
        <span class="fas fa-arrow-circle-up"></span> {{ error }}</div>
      {% endfor %}

      {{ wtf.form_field(form.text) }}
      {% for error in form.text.errors %}
      <div class="alert alert-danger" role="alert">
        <span class="fas fa-arrow-circle-up"></span> {{ error }}</div>
      {% endfor %}
    
      <!-- TODO: make the cancel button dynamically route you to where you came from -->
      <div>
        {{ wtf.form_field(form.submit) }}
        <span class="btn btn-secondary" href="{{ url_for('answers.index') }}">Cancel</span>
      </div>
    </form>
  </div>
</div>
{% endblock %}